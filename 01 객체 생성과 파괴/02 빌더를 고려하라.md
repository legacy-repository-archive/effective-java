ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼
====================
`ì •ì  íŒ©í† ë¦¬`ì™€ `ìƒì„±ì`ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•Œ ëŒ€ì‘í•˜ê¸° ì–´ë µë‹¤ëŠ” ê³µí†µëœ ë‹¨ì ì´ ìˆë‹¤.             
**ê·¸ë ‡ë‹¤ë©´ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼í• ê¹Œ? ğŸ¤”**            
ì´ë¥¼ ì•Œê¸° ìœ„í•´ì„œ ì•„ë˜ 3ê°€ì§€ ë‹¨ê³„ë¥¼ ë¹„êµí•˜ë©´ì„œ ì§„í–‰í•´ë³´ê³ ì í•œë‹¤.      
   
1. ì ì¸µì  ìƒì„±ì íŒ¨í„´    
2. ìë°”ë¹ˆì¦ˆ íŒ¨í„´     
3. ë¹Œë” íŒ¨í„´    
   
## ì ì¸µì  ìƒì„±ì íŒ¨í„´ 
```java
public class NutritionFacts {
    private final int servingSize;
    private final int servings;
    private final int calories;
    private final int fat;
    private final int sodium;
    private final int carbohydrate;

    public NutritionFacts(int servingSize, int servings) {
        this(servingSize, servings, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories) {
        this(servingSize, servings, calories, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat) {
        this(servingSize, servings, calories, fat, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium) {
        this(servingSize, servings, calories, fat, sodium, 0);

    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium, int carbohydrate) {
        this.servingSize = servingSize;
        this.servings = servings;
        this.calories = calories;
        this.fat = fat;
        this.sodium = sodium;
        this.carbohydrate = carbohydrate
    }
}
```
```java
NutritionFacts cocaCola = new NutritionFacts(240, 8, 100, 0, 35, 27);
```
ê³¼ê±° í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ `ì ì¸µì  ìƒì„±ì íŒ¨í„´`ì„ í†µí•´ `ìµœì†Œ ìƒì„±ì`ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í–ˆë‹¤.      
ë¬¼ë¡  í•„ìš”ì— ì˜í•´ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì€ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.     
     
**í•˜ì§€ë§Œ, ë§¤ê°œë³€ìˆ˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ì½ê¸° ì–´ë µë‹¤ëŠ” ë‹¨ì ì€ ì—¬ì „í•˜ë‹¤.**           
* ê° ê°’ì˜ ì˜ë¯¸ê°€ ë¬´ì—‡ì¸ì§€ í—·ê°ˆë¦°ë‹¤.     
* ë§¤ê°œë³€ìˆ˜ê°€ ëª‡ ê°œì¸ì§€ë„ ì£¼ì˜í•´ì„œ ì„¸ì–´ ë³´ì•„ì•¼ í•œë‹¤.     
* ë§¤ê°œë³€ìˆ˜ê°€ ë™ì¼í•˜ê¸°ì— ì°¾ê¸° ì–´ë ¤ìš´ ë²„ê·¸ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤.  
       
íŠ¹íˆ ë§ˆì§€ë§‰ ë¬¸ì œëŠ”,        
ë°œìƒí•  ê°€ëŠ¥ì„±ì€ ë†’ì§€ë§Œ ëŸ°íƒ€ì„ì‹œì— ì•Œ ìˆ˜ ìˆëŠ” `ë…¼ë¦¬ì  ì—ëŸ¬`ì´ë¯€ë¡œ ë§¤ìš° ì¹˜ëª…ì ì´ë‹¤.       
       
## ìë°”ë¹ˆì¦ˆ íŒ¨í„´ 
ìë°”ë¹ˆì¦ˆ íŒ¨í„´ì€ **ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¡œ ê°ì²´ë¥¼ ë§Œë“  í›„**   
**Setter ë©”ì„œë“œë“¤ì„ í˜¸ì¶œí•´ ì›í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ì‹ì´ë‹¤.**        

```java
package com.example.posttest;

public class NutritionFacts {
    private int servingSize   = -1;
    private int servings      = -1;
    private int calories      = 0;
    private int fat           = 0;
    private int sodium        = 0;
    private int carbohydrate  = 0;

    public NutritionFacts() { }

    public void setServingSize(int servingSize) { this.servingSize = servingSize; }
    public void setServings(int servings) { this.servings = servings; }
    public void setCalories(int calories) { this.calories = calories; }
    public void setFat(int fat) { this.fat = fat; }
    public void setSodium(int sodium) { this.sodium = sodium; }
    public void setCarbohydrate(int carbohydrate) { this.carbohydrate = carbohydrate; }
}
```
```java
NutritionFacts cocaCola = new NutritionoFacts();
cocaCola.setServingSize(240);
cocaCola.setServings(8);
cocaCola.setCalories(100);
cocaCola.setSodium(35);
cocaCola.setCarbohydrate(27);
```
ì½”ë“œê°€ ê¸¸ì–´ì§€ê¸°ëŠ” í–ˆì§€ë§Œ, `ì ì¸µì  ìƒì„±ì íŒ¨í„´ì˜ ë‹¨ì `ì˜ ë¬¸ì œë“¤ì„ í•´ê²°í–ˆë‹¤.       
ì¦‰, ë” ì½ê¸° ì‰¬ìš´ ì½”ë“œê°€ ë˜ì–´ ì¸ìê°’ ì£¼ì…ì— ìˆì–´ í—·ê°ˆë¦¬ì§€ ì•Šê²Œ ë˜ì—ˆë‹¤.        
            
í•˜ì§€ë§Œ, ë¶ˆí–‰íˆë„ `ìë°”ë¹ˆì¦ˆ íŒ¨í„´`ì€ ì‹¬ê°í•œ ë‹¨ì ì„ ì§€ë‹ˆê³  ìˆë‹¤.              
**ìë°”ë¹ˆì¦ˆ íŒ¨í„´ì—ì„œëŠ” ê°ì²´ í•˜ë‚˜ë¥¼ ë§Œë“¤ë ¤ë©´ ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ ê°œ í˜¸ì¶œí•´ì•¼í•˜ê³ ,            
ê°ì²´ê°€ ì™„ì „íˆ ìƒì„±ë˜ê¸° ì „ê¹Œì§€ëŠ” ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì— ë†“ì´ê²Œ ëœë‹¤.**              
ì‰½ê²Œ ë§í•˜ë©´, ë‚´ë¶€ ê°’ì´ `null ìƒíƒœ`ì¸ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆê³  **ë¶ˆë³€ì„±ì´ ê¹¨ì§„ë‹¤.**           
                 
ì¼ê´€ì„±ì´ ê¹¨ì§„ ê°ì²´ê°€ ë§Œë“¤ì–´ì§€ë©´,            
ë²„ê·¸ë¥¼ ì‹¬ì€ ì½”ë“œì™€ ê·¸ ë²„ê·¸ ë•Œë¬¸ì— ëŸ°íƒ€ì„ì— ë¬¸ì œë¥¼ ê²ªëŠ” ì½”ë“œê°€         
ë¬¼ë¦¬ì ìœ¼ë¡œ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì„ ê²ƒì´ë¯€ë¡œ ë””ë²„ê¹…ë„ ë§Œë§Œì¹˜ ì•Šë‹¤.         

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ `freeze`ê¸°ë²•ì´ ìˆì§€ë§Œ ì‹¤ë¬´ì—ì„œ ì“°ì§€ ì•Šê¸°ì— ë„˜ì–´ê°„ë‹¤.   
       
## ë¹Œë” íŒ¨í„´           
ë¹Œë”íŒ¨í„´ì€ ì ì¸µì  ìƒì„±ì íŒ¨í„´ì˜ ì•ˆì •ì„±ê³¼ ìë°”ë¹ˆì¦ˆ íŒ¨í„´ì˜ ê°€ë…ì„±ì„ ê²¸ë¹„í–ˆë‹¤.     
    
```java
package com.example.posttest;

public class NutritionFacts {
    private final int servingSize;
    private final int servings;
    private final int calories;
    private final int fat;
    private final int sodium;
    private final int carbohydrate;

    public static class Builder {

        private final int servingSize;
        private final int servings;

        private int calories = 0;
        private int fat = 0;
        private int sodium = 0;
        private int carbohydrate = 0;

        public Builder(int servingSize, int servings) {
            this.servingSize = servingSize;
            this.servings = servings;
        }

        public Builder calories(int calories) {
            this.calories = calories;
            return this;
        }

        public Builder fat(int fat) {
            this.fat = fat;
            return this;
        }

        public Builder sodium(int sodium) {
            this.sodium = sodium;
            return this;
        }

        public Builder carbohydrate(int carbohydrate) {
            this.carbohydrate = carbohydrate;
            return this;
        }

        public NutritionFacts build() {
            return new NutritionFacts(this);
        }
    }

    public NutritionFacts(Builder builder) {
        servingSize = builder.servingSize;
        servings = builder.servings;
        calories = builder.calories;
        fat = builder.fat;
        sodium = builder.sodium;
        carbohydrate = builder.carbohydrate;
    }

}
```
í´ë¼ì´ì–¸íŠ¸ëŠ” í•„ìš”í•œ ê°ì²´ë¥¼ ì§ì ‘ ë§Œë“œëŠ” ëŒ€ì‹ , **í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œìœ¼ë¡œ ìƒì„±ìë¥¼ í˜¸ì¶œí•´ ë¹Œë” ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤.**                
ê·¸ëŸ° ë‹¤ìŒ **ë¹Œë” ê°ì²´ê°€ ì œê³µí•˜ëŠ” ì¼ì¢…ì˜ ì„¸í„° ë©”ì„œë“œë“¤ë¡œ ì›í•˜ëŠ” ì„ íƒ ë§¤ê°œë³€ìˆ˜ë“¤ì„ ì„¤ì •í•œë‹¤.**                
ë§ˆì§€ë§‰ìœ¼ë¡œ **ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” `build()` í˜¸ì¶œí•´ ë“œë””ì–´ ìš°ë¦¬ì—ê²Œ í•„ìš”í•œ ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤.**                  

```java
NutritionFacts cacaCola = new NutritionFacts.Buillder(240, 8) // static íŒ©í„°ë¦¬ ë©”ì„œë“œë¡œ ë°”ê¾¸ë©´ new ë¥¼ ëº„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.  
        .calories(100).sodium(35).carbohydrate(27).build();
```

í´ë˜ìŠ¤ëŠ” ë¶ˆë³€ì„ ìœ ì§€í•˜ë©°, ëª¨ë“  ë§¤ê°œë³€ìˆ˜ì˜ ê¸°ë³¸ê°’ë“¤ì„ í•œ ê³³ì— ëª¨ì•„ë‘ì—ˆë‹¤.       
ë¹Œë”ì˜ ì„¸í„°ëŠ” ë¹Œë” ìì‹ (this)ì„ ë°˜í™˜í•˜ê¸°ì— ë©”ì„œë“œ ì²´ì´ë‹ ê¸°ë²•(í”Œë£¨ì–¸íŠ¸API)ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.            
ì°¸ê³ ë¡œ, **ë¹Œë” íŒ¨í„´ì€ ëª…ëª…ëœ ì„ íƒì  ë§¤ê°œë³€ìˆ˜ë¥¼ í‰ë‚´ë‚¸ê²ƒì´ë‹¤.(ëª…ì‚¬setter)**   

ë”ë¶ˆì–´ ìœ„ ì½”ë“œì—ì„œëŠ” ìƒëµí–ˆì§€ë§Œ, ìƒì„±ìì— ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œë„ ì‘ì„±í•˜ë©´ ì¢‹ë‹¤.   

**ë¹Œë” íŒ¨í„´ì€ ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì“°ê¸°ì— ì¢‹ë‹¤.**   
ê° ê³„ì¸µì˜ í´ë˜ìŠ¤ì— ê´€ë ¨ ë¹Œë”ë¥¼ ë©¤ë²„ë¡œ ì •ì˜í•˜ì.   
ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì¶”ìƒ ë¹Œë”ë¥¼, êµ¬ì²´ í´ë˜ìŠ¤ëŠ” êµ¬ì²´ ë¹Œë”ë¥¼ ê°–ê²Œí•œë‹¤.     

```java
public abstract class Pizza {
    public enum Topping {
        HAM,
        MUSHROOM,
        ONION,
        PEPPER,
        SAUSAGE
    }
    final Set<Topping> toppings;
    
    abstract static class Builder<T extends Builder<T>> {
        EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class);
        
        // ì²´ì´ë‹ 
        public T addTopping(Topping topping) {
            toppings.add(Objects.requireNonNull(topping));
            return self();
        }
        
        // ë¹Œë“œ
        abstract Pizza build();
        
        // ìƒì„±ìë©´ ì¢‹ê² ì§€ë§Œ.. ìê¸° ìì‹ ì„ ë§Œë“œëŠ” ë©”ì„œë“œ 
        protected abstract T self();
    }
    
    Pizza(Builder<?> builder) {
        toppings = builder.toppings.clone();
    }
}
```
ì¶”ìƒí™” ë ˆë²¨ì—ì„œ ì‚¬ìš©í•´ì•¼ í•˜ë¯€ë¡œ ì¬ê·€ì  íƒ€ì… í•œì •   
ê¸°ì¡´ì— ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥´ê²Œ 














